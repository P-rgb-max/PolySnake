<html>
<canvas id="game" width="400" height="400"></canvas>
<script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");
    let x = canvas.width / 2;
    let y = canvas.height - 30;
    let dx = 2;
    let dy = -2;
    let snake = [];
    let snakeLength = 10;

    function drawCircle() {
        ctx.beginPath();
        ctx.arc(x, y, 10, 0, Math.PI * 2);
        ctx.fillStyle = "green";
        ctx.fill();
        ctx.closePath();
    }

    function drawSnake() {
        for (let i = 0; i < snake.length; i++) {
            ctx.fillStyle = "red";
            ctx.fillRect(snake[i].x, snake[i].y, 10, 10);
        }
    }

    function moveSnake() {
        x += dx;
        y += dy;

        if (x > canvas.width || x < 0) {
            x = canvas.width - x;
        }
        if (y > canvas.height || y < 0) {
            y = canvas.height - y;
        }

        snake.unshift({
            x: x,
            y: y
        });
        if (snake.length > snakeLength) {
            snake.pop();
        }
    }

    function checkCollision() {
        for (let i = 1; i < snake.length; i++) {
            if (x === snake[i].x && y === snake[i].y) {
                snakeLength = 10;
                snake = [];
            }
        }
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawCircle();
        drawSnake();
        moveSnake();
        checkCollision();
        requestAnimationFrame(draw);
    }

    draw();
</script>

</html>